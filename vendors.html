<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Download Vendors</title>
		<script src="https://cdn.tailwindcss.com"></script>
		<link rel="stylesheet" href="styles.css" />
		<script type="module" src="js/navigation.js"></script>
		<script type="module" src="js/menu.js"></script>
		<script type="module" src="js/countdown.js"></script>
		<style>
			body {
				margin: 0;
				background: linear-gradient(
						rgba(0, 0, 0, 0.3),
						rgba(0, 0, 0, 0.4)
					),
					url("assets/timetable_background.png") center/cover
						no-repeat fixed;
				overflow: hidden;
				font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
				color: white;
				perspective: 1000px;
			}

			/* Floating particles background */
			.particles {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				pointer-events: none;
				z-index: 0;
			}

			.particle {
				position: absolute;
				width: 2px;
				height: 2px;
				background: #00ffc3;
				border-radius: 50%;
				animation: float-particle 8s infinite ease-in-out;
				opacity: 0.3;
			}

			@keyframes float-particle {
				0%,
				100% {
					transform: translateY(100vh) translateX(0) scale(0.5);
					opacity: 0;
				}
				50% {
					opacity: 0.8;
					transform: translateY(0) translateX(50px) scale(1);
				}
			}

			/* Main container for all content */
			.content-container {
				position: fixed;
				top: 80px;
				left: 0;
				width: 100vw;
				height: calc(100vh - 80px);
				display: flex;
				align-items: center;
				justify-content: center;
			}

			/* Zone Selection (Level 1) */
			.zone-selector {
				position: relative;
				display: flex;
				gap: 5rem;
				flex-wrap: wrap;
				justify-content: center;
				max-width: 1000px;
				transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
				z-index: 2;
			}

			.zone-bubble {
				width: 250px;
				height: 250px;
				border-radius: 50%;
				/* background: linear-gradient(135deg, #111 0%, #222 100%); */
				box-shadow: 0 0 30px #00ffc3, 0 0 60px #00ffc3,
					inset 0 0 20px rgba(0, 255, 195, 0.1);
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 1.4rem;
				font-weight: 700;
				cursor: pointer;
				transition: all 0.4s ease;
				transform-style: preserve-3d;
				position: relative;
				overflow: hidden;
				text-align: center;
				color: white;
				text-shadow: 0 0 10px rgba(0, 255, 195, 0.8),
					0 0 20px rgba(0, 255, 195, 0.6),
					2px 2px 4px rgba(0, 0, 0, 0.8);
				z-index: 3;
				outline: none;
				border: none;
			}

			/* Arena specific styling - Background image with overlay */
			.zone-bubble.arena {
				background: linear-gradient(
						135deg,
						rgba(35, 191, 207, 0.1) 0%,
						rgba(0, 0, 0, 0.2) 50%,
						rgba(35, 191, 207, 0.1) 100%
					),
					url("assets/apex.jpg") center/cover no-repeat;
			}

			/* District X specific styling - Based on angular lettering design */
			.zone-bubble.districtx {
				background: linear-gradient(
						135deg,
						rgba(0, 0, 0, 0.3) 0%,
						rgba(20, 20, 20, 0.3) 50%,
						rgba(0, 0, 0, 0.3) 100%
					),
					url("assets/districtx.jpg") center/cover no-repeat;
			}

			/* RIP specific styling - Black theme with background image */
			.zone-bubble.rip {
				background: linear-gradient(
						135deg,
						rgba(0, 0, 0, 0.3) 0%,
						rgba(20, 20, 20, 0.3) 50%,
						rgba(0, 0, 0, 0.3) 100%
					),
					url("assets/rip-logo.png") center/cover no-repeat;
			}

			/* Plus specific styling - White theme with + symbol */
			.zone-bubble.plus {
				background: linear-gradient(
						135deg,
						rgba(0, 0, 0, 0.3) 0%,
						rgba(20, 20, 20, 0.3) 50%,
						rgba(0, 0, 0, 0.3) 100%
					),
					url("assets/plus.jpg") center/cover no-repeat;
			}

			.zone-text {
				position: relative;
				z-index: 4;
				background: rgba(0, 0, 0, 0.8);
				padding: 20px 30px;
				border-radius: 15px;
				backdrop-filter: blur(15px);
				border: 2px solid rgba(0, 255, 195, 0.4);
				box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4),
					inset 0 2px 0 rgba(255, 255, 255, 0.15);
				font-size: 1.2rem;
				font-weight: 700;
				text-transform: uppercase;
				letter-spacing: 2px;
				text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
			}

			.zone-bubble.arena .zone-text {
				border-color: rgba(35, 191, 207, 0.6);
				color: #23BFCF;
				text-shadow: 0 0 10px rgba(35, 191, 207, 0.5);
			}

			.zone-bubble.districtx .zone-text {
				border-color: rgba(74, 144, 255, 0.6);
				color: #4a90ff;
				text-shadow: 0 0 10px rgba(74, 144, 255, 0.5);
			}

			.zone-bubble.rip .zone-text {
				border-color: rgba(255, 0, 0, 0.6);
				color: #ff0000;
				text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
				background: rgba(0, 0, 0, 0.8);
			}

			.zone-bubble.plus .zone-text {
				border-color: rgba(0, 0, 0, 0.6);
				color: #000000;
				text-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
				background: rgba(255, 255, 255, 0.9);
			}

			.zone-bubble::before {
				content: "";
				position: absolute;
				top: -50%;
				left: -50%;
				width: 200%;
				height: 200%;
				background: transparent;
				border-radius: 50%;
				transform: rotate(0deg) scale(0);
				transition: all 0.6s ease;
				will-change: transform;
				backface-visibility: hidden;
				opacity: 0;
			}

			.zone-bubble:hover::before {
				transform: rotate(180deg) scale(1);
				opacity: 0.1;
				background: radial-gradient(
					circle,
					rgba(255, 255, 255, 0.1) 0%,
					transparent 70%
				);
			}

			.zone-bubble:hover {
				transform: scale(1.1) rotateY(8deg) rotateX(4deg);
				box-shadow: 0 0 50px #00ffc3, 0 0 100px #00ffc3,
					inset 0 0 30px rgba(0, 255, 195, 0.2),
					0 20px 40px rgba(0, 0, 0, 0.3);
			}

			.zone-bubble:focus {
				outline: none;
				box-shadow: 0 0 50px #00ffc3, 0 0 100px #00ffc3,
					inset 0 0 30px rgba(0, 255, 195, 0.2),
					0 20px 40px rgba(0, 0, 0, 0.3);
			}

			.zone-bubble.arena:hover {
				box-shadow: 0 0 50px #23BFCF, 0 0 100px #23BFCF,
					inset 0 0 30px rgba(35, 191, 207, 0.3),
					0 20px 40px rgba(0, 0, 0, 0.4) !important;
			}

			.zone-bubble.arena:focus {
				outline: none;
				box-shadow: 0 0 50px #23BFCF, 0 0 100px #23BFCF,
					inset 0 0 30px rgba(35, 191, 207, 0.3),
					0 20px 40px rgba(0, 0, 0, 0.4) !important;
			}

			.zone-bubble.districtx:hover {
				box-shadow: 0 0 50px #4a90ff, 0 0 100px #4a90ff,
					inset 0 0 30px rgba(74, 144, 255, 0.3),
					0 20px 40px rgba(0, 0, 0, 0.4);
			}

			.zone-bubble.districtx:focus {
				outline: none;
				box-shadow: 0 0 50px #4a90ff, 0 0 100px #4a90ff,
					inset 0 0 30px rgba(74, 144, 255, 0.3),
					0 20px 40px rgba(0, 0, 0, 0.4);
			}

			.zone-bubble:hover .zone-text {
				transform: translateZ(15px) scale(1.05);
				background: rgba(0, 0, 0, 0.9);
				backdrop-filter: blur(20px);
				box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5),
					inset 0 3px 0 rgba(255, 255, 255, 0.2);
			}

			.zone-bubble.arena:hover .zone-text {
				border-color: rgba(35, 191, 207, 0.8) !important;
				text-shadow: 0 0 15px rgba(35, 191, 207, 0.8) !important;
			}

			.zone-bubble.districtx:hover .zone-text {
				border-color: rgba(74, 144, 255, 0.8);
				text-shadow: 0 0 15px rgba(74, 144, 255, 0.8);
			}

			@keyframes pulseGlow {
				0%,
				100% {
					box-shadow: 0 0 30px #23BFCF, 0 0 60px #23BFCF,
						inset 0 0 20px rgba(35, 191, 207, 0.1);
				}
				50% {
					box-shadow: 0 0 50px #23BFCF, 0 0 100px #23BFCF,
						inset 0 0 30px rgba(35, 191, 207, 0.2);
				}
			}

			@keyframes pulseGlowDistrict {
				0%,
				100% {
					box-shadow: 0 0 30px #4a90ff, 0 0 60px #4a90ff,
						inset 0 0 20px rgba(74, 144, 255, 0.1);
				}
				50% {
					box-shadow: 0 0 50px #4a90ff, 0 0 100px #4a90ff,
						inset 0 0 30px rgba(74, 144, 255, 0.2);
				}
			}

			.zone-bubble.arena {
				animation: pulseGlow 3s infinite ease-in-out !important;
			}

			.zone-bubble.districtx {
				animation: pulseGlowDistrict 3s infinite ease-in-out;
			}

			.zone-bubble.rip {
				animation: pulseGlowRIP 3s infinite ease-in-out;
			}

			.zone-bubble.rip:hover {
				box-shadow: 0 0 50px #ff0000, 0 0 100px #ff0000,
					inset 0 0 30px rgba(255, 0, 0, 0.3),
					0 20px 40px rgba(0, 0, 0, 0.4);
			}

			.zone-bubble.rip:focus {
				outline: none;
				box-shadow: 0 0 50px #ff0000, 0 0 100px #ff0000,
					inset 0 0 30px rgba(255, 0, 0, 0.3),
					0 20px 40px rgba(0, 0, 0, 0.4);
			}

			.zone-bubble.rip:hover .zone-text {
				border-color: rgba(255, 0, 0, 0.8);
				text-shadow: 0 0 15px rgba(255, 0, 0, 0.8);
			}

			.zone-bubble.plus {
				animation: pulseGlowPlus 3s infinite ease-in-out;
			}

			.zone-bubble.plus:hover {
				box-shadow: 0 0 50px #ffffff, 0 0 100px #ffffff,
					inset 0 0 30px rgba(255, 255, 255, 0.3),
					0 20px 40px rgba(0, 0, 0, 0.4);
			}

			.zone-bubble.plus:focus {
				outline: none;
				box-shadow: 0 0 50px #ffffff, 0 0 100px #ffffff,
					inset 0 0 30px rgba(255, 255, 255, 0.3),
					0 20px 40px rgba(0, 0, 0, 0.4);
			}

			.zone-bubble.plus:hover .zone-text {
				border-color: rgba(255, 255, 255, 0.8);
				color: #ffffff;
				text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
				background: rgba(0, 0, 0, 0.8);
			}

			.zone-bubble.plus:focus .zone-text {
				border-color: rgba(255, 255, 255, 0.8);
				color: #ffffff;
				text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
				background: rgba(0, 0, 0, 0.8);
			}
			}

			.zone-bubble.plus:hover .zone-text {
				border-color: rgba(255, 255, 255, 0.8);
				color: #ffffff;
				text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
				background: rgba(0, 0, 0, 0.8);
			}

			@keyframes pulseGlowRIP {
				0%,
				100% {
					box-shadow: 0 0 30px #ff0000, 0 0 60px #ff0000,
						inset 0 0 20px rgba(255, 0, 0, 0.1);
				}
				50% {
					box-shadow: 0 0 50px #ff0000, 0 0 100px #ff0000,
						inset 0 0 30px rgba(255, 0, 0, 0.2);
				}
			}

			@keyframes pulseGlowPlus {
				0%,
				100% {
					box-shadow: 0 0 30px #ffffff, 0 0 60px #ffffff,
						inset 0 0 20px rgba(255, 255, 255, 0.1);
				}
				50% {
					box-shadow: 0 0 50px #ffffff, 0 0 100px #ffffff,
						inset 0 0 30px rgba(255, 255, 255, 0.2);
				}
			}

			/* Category Selection (Level 2) */
			.category-selector {
				position: relative;
				display: none;
				flex-wrap: wrap;
				gap: 2rem;
				justify-content: center;
				max-width: 600px;
				z-index: 2;
				animation: morphIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55)
					forwards;
			}

			.category-bubble {
				width: 150px;
				height: 150px;
				border-radius: 50%;
				background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
				box-shadow: 0 0 20px #ff6b6b, 0 0 40px rgba(255, 107, 107, 0.3),
					inset 0 0 15px rgba(255, 107, 107, 0.1);
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				font-size: 0.9rem;
				font-weight: 600;
				cursor: pointer;
				transition: all 0.3s ease;
				position: relative;
				overflow: hidden;
			}

			.category-bubble .icon {
				font-size: 2rem;
				margin-bottom: 0.5rem;
				transition: transform 0.3s ease;
			}

			.category-bubble:hover {
				transform: scale(1.1) translateY(-5px);
				box-shadow: 0 0 30px #ff6b6b, 0 0 60px rgba(255, 107, 107, 0.5),
					inset 0 0 25px rgba(255, 107, 107, 0.2);
			}

			.category-bubble:hover .icon {
				transform: rotateY(360deg);
			}

			/* Vendor Display (Level 3) */
			.vendor-grid {
				position: relative;
				display: none;
				flex-wrap: wrap;
				gap: 1.5rem;
				justify-content: center;
				max-width: 80vw;
				max-height: 70vh;
				overflow-y: auto;
				z-index: 2;
				animation: cascadeIn 0.6s ease forwards;
				padding: 20px;
			}

			.vendor-bubble {
				width: 100px;
				height: 100px;
				border-radius: 50%;
				background: linear-gradient(135deg, #0f3460 0%, #0e4b99 100%);
				box-shadow: 0 0 15px #4ecdc4, 0 0 30px rgba(78, 205, 196, 0.3),
					inset 0 0 10px rgba(78, 205, 196, 0.1);
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 0.7rem;
				font-weight: 500;
				text-align: center;
				cursor: pointer;
				animation: popIn 0.5s ease forwards;
				opacity: 0;
				transform: scale(0);
				transition: all 0.3s ease;
				position: relative;
				padding: 10px;
				line-height: 1.2;
			}

			.vendor-bubble:hover {
				transform: scale(1.15);
				box-shadow: 0 0 25px #4ecdc4, 0 0 50px rgba(78, 205, 196, 0.5),
					inset 0 0 20px rgba(78, 205, 196, 0.2);
			}

			/* Back Button */
			.back-button {
				position: fixed;
				top: 120px;
				left: 50px;
				padding: 15px 25px;
				border-radius: 25px;
				background: linear-gradient(
					135deg,
					rgba(0, 0, 0, 0.8) 0%,
					rgba(34, 34, 34, 0.9) 100%
				);
				box-shadow: 0 0 20px rgba(0, 255, 195, 0.4),
					0 0 40px rgba(0, 255, 195, 0.2),
					inset 0 0 15px rgba(0, 255, 195, 0.1);
				display: none;
				align-items: center;
				justify-content: center;
				font-size: 1.1rem;
				font-weight: 600;
				color: #00ffc3;
				cursor: pointer;
				transition: all 0.3s ease;
				z-index: 15;
				border: 2px solid rgba(0, 255, 195, 0.5);
				backdrop-filter: blur(10px);
				text-shadow: 0 0 10px rgba(0, 255, 195, 0.5);
				letter-spacing: 1px;
				text-transform: uppercase;
			}

			.back-button:hover {
				transform: scale(1.05) translateY(-2px);
				box-shadow: 0 0 30px rgba(0, 255, 195, 0.8),
					0 0 60px rgba(0, 255, 195, 0.5),
					inset 0 0 25px rgba(0, 255, 195, 0.3);
				background: linear-gradient(
					135deg,
					rgba(0, 0, 0, 0.9) 0%,
					rgba(34, 34, 34, 1) 100%
				);
				border-color: rgba(0, 255, 195, 0.8);
				text-shadow: 0 0 15px rgba(0, 255, 195, 0.8);
			}

			.back-button.show {
				display: flex;
				animation: backButtonIn 0.5s
					cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
			}

			@keyframes backButtonIn {
				0% {
					opacity: 0;
					transform: scale(0.3) translateX(-100px);
				}
				70% {
					transform: scale(1.1) translateX(5px);
				}
				100% {
					opacity: 1;
					transform: scale(1) translateX(0);
				}
			}

			/* Animations */
			@keyframes morphIn {
				0% {
					opacity: 0;
					transform: scale(0.3) rotateY(90deg);
				}
				50% {
					opacity: 0.8;
					transform: scale(1.1) rotateY(0deg);
				}
				100% {
					opacity: 1;
					transform: scale(1) rotateY(0deg);
				}
			}

			@keyframes cascadeIn {
				0% {
					opacity: 0;
					transform: translateY(50px) scale(0.8);
				}
				100% {
					opacity: 1;
					transform: translateY(0) scale(1);
				}
			}

			@keyframes popIn {
				0% {
					opacity: 0;
					transform: scale(0) rotateZ(180deg);
				}
				70% {
					transform: scale(1.1) rotateZ(0deg);
				}
				100% {
					opacity: 1;
					transform: scale(1) rotateZ(0deg);
				}
			}

			@keyframes slideOut {
				0% {
					opacity: 1;
					transform: scale(1);
				}
				100% {
					opacity: 0;
					transform: scale(0) rotateY(90deg);
				}
			}

			/* Popup Styles */
			.popup {
				position: fixed;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%) scale(0);
				background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
				padding: 2rem;
				border-radius: 20px;
				box-shadow: 0 0 50px #00ffc3, 0 0 100px rgba(0, 255, 195, 0.3),
					inset 0 0 30px rgba(0, 255, 195, 0.1);
				z-index: 100;
				width: 90vw;
				max-width: 400px;
				max-height: calc(100vh - 40px);
				overflow-y: auto;
				transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
				opacity: 0;
				box-sizing: border-box;
				margin: 0;
			}

			.popup.show {
				transform: translate(-50%, -50%) scale(1);
				opacity: 1;
			}

			.popup-header {
				display: flex;
				justify-content: space-between;
				align-items: flex-start;
				margin-bottom: 1rem;
			}

			.popup h3 {
				margin: 0;
				color: #00ffc3;
				font-size: 1.4rem;
				font-weight: 700;
			}

			.popup-close {
				background: none;
				border: none;
				color: #00ffc3;
				font-size: 1.8rem;
				cursor: pointer;
				transition: transform 0.2s ease;
				padding: 0;
				width: 30px;
				height: 30px;
				display: flex;
				align-items: center;
				justify-content: center;
			}

			.popup-close:hover {
				transform: scale(1.2) rotate(90deg);
			}

			.popup-image {
				width: 100%;
				height: 200px;
				object-fit: cover;
				border-radius: 15px;
				margin-bottom: 1.5rem;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
			}

			.popup-section {
				margin-bottom: 1.5rem;
			}

			.popup-section h4 {
				color: #ff6b6b;
				margin: 0 0 0.5rem 0;
				font-size: 1rem;
				font-weight: 600;
			}

			.popup-description {
				color: #ccc;
				line-height: 1.5;
				margin-bottom: 1rem;
			}

			.popup-details {
				display: grid;
				gap: 0.8rem;
			}

			.detail-item {
				display: flex;
				align-items: center;
				gap: 0.8rem;
				padding: 0.5rem;
				background: rgba(255, 255, 255, 0.05);
				border-radius: 8px;
			}

			.detail-icon {
				font-size: 1.2rem;
				color: #4ecdc4;
				width: 20px;
				text-align: center;
			}

			.menu-grid {
				display: grid;
				gap: 0.8rem;
				margin-top: 1rem;
			}

			.menu-item {
				background: rgba(255, 255, 255, 0.05);
				padding: 1rem;
				border-radius: 10px;
				border-left: 3px solid #4ecdc4;
			}

			.menu-item-header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 0.5rem;
			}

			.menu-item-name {
				font-weight: 600;
				color: #00ffc3;
			}

			.menu-item-price {
				font-weight: 700;
				color: #ff6b6b;
			}

			.menu-item-description {
				color: #aaa;
				font-size: 0.9rem;
				line-height: 1.3;
			}

			.dietary-tags {
				display: flex;
				gap: 0.5rem;
				margin-top: 0.5rem;
			}

			.dietary-tag {
				background: #4ecdc4;
				color: #000;
				padding: 0.2rem 0.5rem;
				border-radius: 15px;
				font-size: 0.7rem;
				font-weight: 600;
			}

			/* Overlay */
			.popup-overlay {
				position: relative;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
				backdrop-filter: blur(5px);
				z-index: 99;
				opacity: 0;
				transition: opacity 0.3s ease;
				pointer-events: none;
			}

			.popup-overlay.show {
				opacity: 1;
				pointer-events: all;
			}

			/* Responsive */
			@media (max-width: 768px) {
				body {
					padding: 8px;
				}

				.content-container {
					top: 120px;
					height: calc(100vh - 120px);
					padding: 10px;
				}

				.zone-selector {
					gap: 1.5rem;
					max-width: 100%;
					padding: 0 10px;
				}

				.zone-bubble {
					width: 140px;
					height: 140px;
					font-size: 1rem;
					/* Ensure minimum touch target size */
					min-width: 44px;
					min-height: 44px;
				}

				.zone-text {
					padding: 12px 20px;
					font-size: 1rem;
					letter-spacing: 1px;
				}

				.category-bubble {
					width: 120px;
					height: 120px;
					font-size: 0.85rem;
					/* Ensure minimum touch target size */
					min-width: 44px;
					min-height: 44px;
				}

				.category-bubble .icon {
					font-size: 1.8rem;
					margin-bottom: 0.4rem;
				}

				.vendor-bubble {
					width: 90px;
					height: 90px;
					font-size: 0.65rem;
					padding: 8px;
					/* Ensure minimum touch target size */
					min-width: 44px;
					min-height: 44px;
				}

				.vendor-grid {
					max-width: 95vw;
					max-height: 65vh;
					padding: 15px;
					gap: 1.2rem;
				}

				.back-button {
					top: 90px;
					left: 20px;
					padding: 12px 20px;
					font-size: 1rem;
					/* Ensure minimum touch target size */
					min-width: 44px;
					min-height: 44px;
				}

				.popup {
					width: 95vw;
					max-width: none;
					max-height: calc(100vh - 40px);
					padding: 1.5rem;
					margin: 10px;
					border-radius: 15px;
				}

				.popup-image {
					height: 150px;
					margin-bottom: 1rem;
				}

				.popup h3 {
					font-size: 1.2rem;
				}

				.popup-close {
					font-size: 1.6rem;
					width: 35px;
					height: 35px;
					/* Ensure minimum touch target size */
					min-width: 44px;
					min-height: 44px;
				}
			}

			@media (max-width: 640px) {
				.content-container {
					top: 100px;
					height: calc(100vh - 100px);
				}

				.zone-selector {
					gap: 1rem;
					flex-direction: column;
					align-items: center;
				}

				.zone-bubble {
					width: 120px;
					height: 120px;
					font-size: 0.9rem;
				}

				.zone-text {
					padding: 10px 16px;
					font-size: 0.9rem;
					letter-spacing: 1px;
				}

				.category-selector {
					gap: 1.5rem;
					max-width: 100%;
				}

				.category-bubble {
					width: 100px;
					height: 100px;
					font-size: 0.8rem;
				}

				.category-bubble .icon {
					font-size: 1.6rem;
				}

				.vendor-bubble {
					width: 80px;
					height: 80px;
					font-size: 0.6rem;
					padding: 6px;
				}

				.back-button {
					top: 80px;
					left: 15px;
					padding: 10px 16px;
					font-size: 0.9rem;
				}
			}

			@media (max-width: 480px) {
				body {
					padding: 4px;
				}

				.content-container {
					top: 90px;
					height: calc(100vh - 90px);
					padding: 5px;
				}

				.zone-selector {
					gap: 0.8rem;
					max-width: 280px;
				}

				.zone-bubble {
					width: 100px;
					height: 100px;
					font-size: 0.8rem;
				}

				.zone-text {
					padding: 8px 12px;
					font-size: 0.8rem;
					letter-spacing: 0.5px;
				}

				.category-selector {
					gap: 1rem;
				}

				.category-bubble {
					width: 80px;
					height: 80px;
					font-size: 0.7rem;
				}

				.category-bubble .icon {
					font-size: 1.4rem;
					margin-bottom: 0.3rem;
				}

				.vendor-bubble {
					width: 70px;
					height: 70px;
					font-size: 0.55rem;
					padding: 4px;
				}

				.vendor-grid {
					gap: 1rem;
					padding: 10px;
					max-height: 60vh;
				}

				.back-button {
					top: 70px;
					left: 10px;
					padding: 8px 12px;
					font-size: 0.8rem;
				}

				.popup {
					padding: 1rem;
					margin: 5px;
				}

				.popup-image {
					height: 120px;
				}

				.popup h3 {
					font-size: 1.1rem;
				}

				.menu-item {
					padding: 0.8rem;
				}

				.detail-item {
					padding: 0.4rem;
					gap: 0.6rem;
				}
			}

			/* Landscape mobile optimizations */
			@media (max-width: 768px) and (orientation: landscape) {
				.content-container {
					top: 70px;
					height: calc(100vh - 70px);
				}

				.zone-selector {
					flex-direction: row;
					gap: 1rem;
				}

				.zone-bubble {
					width: 100px;
					height: 100px;
				}

				.category-selector {
					gap: 1rem;
				}

				.category-bubble {
					width: 80px;
					height: 80px;
				}

				.vendor-grid {
					max-height: 55vh;
				}

				.back-button {
					top: 50px;
				}
			}

			/* Touch device optimizations */
			@media (hover: none) and (pointer: coarse) {
				.zone-bubble:hover,
				.category-bubble:hover,
				.vendor-bubble:hover,
				.back-button:hover,
				.popup-close:hover {
					/* Remove hover effects on touch devices */
					transform: none;
					box-shadow: inherit;
				}

				.zone-bubble:active,
				.category-bubble:active,
				.vendor-bubble:active {
					transform: scale(0.95);
					transition: transform 0.1s ease;
				}

				.back-button:active,
				.popup-close:active {
					transform: scale(0.95);
					transition: transform 0.1s ease;
				}

				/* Better touch targets */
				.zone-bubble,
				.category-bubble,
				.vendor-bubble,
				.back-button,
				.popup-close {
					min-width: 44px;
					min-height: 44px;
				}
			}

			/* Very small screens */
			@media (max-width: 360px) {
				.zone-selector {
					gap: 0.6rem;
				}

				.zone-bubble {
					width: 90px;
					height: 90px;
					font-size: 0.7rem;
				}

				.zone-text {
					padding: 6px 10px;
					font-size: 0.7rem;
				}

				.category-bubble {
					width: 70px;
					height: 70px;
					font-size: 0.65rem;
				}

				.vendor-bubble {
					width: 60px;
					height: 60px;
					font-size: 0.5rem;
				}

				.popup {
					padding: 0.8rem;
				}
			}
		</style>
	</head>
	<body class="bg-black text-white p-2 sm:p-4 vendors-page">
		<!-- Navigation Component Placeholder -->
		<div id="navigation-placeholder"></div>

		<!-- Floating particles background -->
		<div class="particles" id="particles"></div>

		<!-- Main content container -->
		<div class="content-container">
			<!-- Zone Selection (Level 1) -->
			<div class="zone-selector" id="zoneSelector">
				<div class="zone-bubble arena" onclick="selectZone('Arena')">
					<div class="zone-text">Arena</div>
				</div>
				<div
					class="zone-bubble districtx"
					onclick="selectZone('District X')"
				>
					<div class="zone-text">District X</div>
				</div>
				<div class="zone-bubble rip" onclick="selectZone('RIP')">
					<div class="zone-text">RIP</div>
				</div>
				<div class="zone-bubble plus" onclick="selectZone('Plus')">
					<div class="zone-text">Plus</div>
				</div>
			</div>

			<!-- Type Selection (Level 2) -->
			<div class="category-selector" id="typeSelector">
				<!-- Types will be populated dynamically -->
			</div>

			<!-- Category Selection (Level 3) -->
			<div class="category-selector" id="categorySelector">
				<!-- Categories will be populated dynamically -->
			</div>

			<!-- Vendor Grid (Level 4) -->
			<div class="vendor-grid" id="vendorGrid">
				<!-- Vendors will be populated dynamically -->
			</div>

			<!-- Back Button -->
			<div class="back-button" id="backButton" onclick="goBack()">
				← Back
			</div>
		</div>

		<!-- Popup -->
		<div
			class="popup-overlay"
			id="popupOverlay"
			onclick="closePopup()"
		></div>
		<div class="popup" id="vendorPopup">
			<div class="popup-header">
				<h3 id="popupName"></h3>
				<button class="popup-close" onclick="closePopup()">
					&times;
				</button>
			</div>

			<img
				id="popupImage"
				class="popup-image"
				src=""
				alt="Vendor Image"
			/>

			<div class="popup-section">
				<p id="popupDescription" class="popup-description"></p>
			</div>

			<div class="popup-section">
				<div class="popup-details" id="popupDetails">
					<!-- Details will be populated dynamically -->
				</div>
			</div>

			<div class="popup-section" id="menuSection">
				<h4>🍽️ Menu</h4>
				<div class="menu-grid" id="menuGrid">
					<!-- Menu items will be populated dynamically -->
				</div>
			</div>
		</div>

		<script>
			// State management
			let currentLevel = "zone"; // 'zone', 'type', 'category', 'vendor'
			let currentZone = null;
			let currentType = null;
			let currentCategory = null;
			let vendorsData = null;
			let navigationStack = [];

			// Category mappings with icons
			const categoryMappings = {
				food: {icon: "🍕", name: "Food"},
				beverage: {icon: "🍹", name: "Beverages"},
				drinks: {icon: "🍺", name: "Drinks"},
				merch: {icon: "👕", name: "Merchandise"},
				other: {icon: "🎪", name: "Other"},
			};

			// Initialize the app
			async function init() {
				await loadVendorsData();
				createParticles();

				// Add stagger animation delay to vendor bubbles
				const style = document.createElement("style");
				style.textContent = `
					.vendor-bubble {
						animation-delay: calc(var(--delay) * 0.1s);
					}
				`;
				document.head.appendChild(style);
			}

			// Load vendors data from JSON
			async function loadVendorsData() {
				try {
					const response = await fetch("vendors-data.json");
					vendorsData = await response.json();
				} catch (error) {
					console.error("Error loading vendors data:", error);
					// Fallback to demo data if file not found
					vendorsData = createDemoData();
				}
			}

			// Create demo data if JSON file not available
			function createDemoData() {
				return {
					zones: {
						Arena: {
							vendors: [
								{
									id: "1",
									name: "PAELLA",
									tags: ["Arena", "Vegetarian", "Cheap"],
								},
							],
						},
						"District X": {
							vendors: [
								{
									id: "d1",
									name: "MEXITACO",
									tags: [
										"District X",
										"Vegetarian",
										"Vegan",
										"Cheap",
									],
								},
							],
						},
					},
				};
			}

			// Create floating particles
			function createParticles() {
				const particlesContainer = document.getElementById("particles");
				for (let i = 0; i < 20; i++) {
					const particle = document.createElement("div");
					particle.className = "particle";
					particle.style.left = Math.random() * 100 + "%";
					particle.style.animationDelay = Math.random() * 8 + "s";
					particle.style.animationDuration =
						8 + Math.random() * 4 + "s";
					particlesContainer.appendChild(particle);
				}
			}

			// Zone selection
			function selectZone(zone) {
				currentZone = zone;
				currentLevel = "type";
				navigationStack.push("zone");

				// Morph zone selector out
				const zoneSelector = document.getElementById("zoneSelector");
				zoneSelector.style.animation =
					"slideOut 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards";

				setTimeout(() => {
					zoneSelector.style.display = "none";
					showTypes();
				}, 600);

				// Show back button with animation
				const backButton = document.getElementById("backButton");
				backButton.classList.add("show");
			}

			// Show types for selected zone
			function showTypes() {
				const typeSelector = document.getElementById("typeSelector");
				const vendors = vendorsData.zones[currentZone]?.vendors || [];

				// Get unique types based on tags
				const types = new Set();

				vendors.forEach((vendor) => {
					if (vendor.tags) {
						vendor.tags.forEach((tag) => {
							// Convert tags to types for filtering
							if (
								[
									"Food",
									"Drinks",
									"Activities",
									"Merchandise",
								].includes(tag)
							) {
								types.add(tag);
							}
						});
					}
				});

				// Add default type if there are vendors
				if (vendors.length > 0) {
					types.add("All");
				}

				// Clear and populate types
				typeSelector.innerHTML = "";
				Array.from(types).forEach((type) => {
					let typeInfo = {icon: "🎪", name: type};

					// Map specific types to better icons and names
					switch (type) {
						case "All":
							typeInfo = {icon: "🎪", name: "All Types"};
							break;
						case "Food":
							typeInfo = {icon: "🍕", name: "Food"};
							break;
						case "Drinks":
							typeInfo = {icon: "🍻", name: "Drinks & Bars"};
							break;
						case "Activities":
							typeInfo = {icon: "🎠", name: "Activities"};
							break;
						case "Merchandise":
							typeInfo = {icon: "👕", name: "Merchandise"};
							break;
					}

					const bubble = document.createElement("div");
					bubble.className = "category-bubble";
					bubble.onclick = () => selectType(type);
					bubble.innerHTML = `
						<div class="icon">${typeInfo.icon}</div>
						<div>${typeInfo.name}</div>
					`;
					typeSelector.appendChild(bubble);
				});

				// Show with animation
				typeSelector.style.display = "flex";
			}

			// Type selection
			function selectType(type) {
				currentType = type;
				currentLevel = "category";
				navigationStack.push("type");

				// Morph type selector out
				const typeSelector = document.getElementById("typeSelector");
				typeSelector.style.animation =
					"slideOut 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards";

				setTimeout(() => {
					typeSelector.style.display = "none";
					showCategories();
				}, 600);
			}

			// Show categories for selected zone and type
			function showCategories() {
				const categorySelector =
					document.getElementById("categorySelector");
				const allVendors =
					vendorsData.zones[currentZone]?.vendors || [];

				// Filter vendors by type first
				let vendors;
				if (currentType === "All") {
					vendors = allVendors;
				} else {
					vendors = allVendors.filter(
						(vendor) =>
							vendor.tags && vendor.tags.includes(currentType)
					);
				}

				// Get unique categories based on tags
				const categories = new Set();

				vendors.forEach((vendor) => {
					if (vendor.tags) {
						vendor.tags.forEach((tag) => {
							// Convert tags to categories for filtering
							if (currentType === "Drinks") {
								// For drinks, categorize by beverage type based on vendor names
								const name = vendor.name.toUpperCase();
								if (
									name.includes("BAR") &&
									!name.includes("COFFEE")
								) {
									categories.add("Bar");
								} else if (name.includes("BEER")) {
									categories.add("Beer");
								} else if (name.includes("COFFEE")) {
									categories.add("Coffee");
								} else if (name.includes("COCKTAIL")) {
									categories.add("Cocktails");
								} else if (name.includes("SPIRIT")) {
									categories.add("Spirits");
								} else if (
									name.includes("JUICE") ||
									name.includes("SMOOTHIE")
								) {
									categories.add("Juice & Smoothies");
								} else if (name.includes("SOFT DRINKS")) {
									categories.add("Soft Drinks");
								} else {
									categories.add("Other Drinks");
								}
							} else {
								// For food and other types, use dietary filters
								if (
									[
										"Halal",
										"Vegan",
										"Vegetarian",
										"GF_Free",
										"Coeliac_friendly",
										"Cheap",
									].includes(tag)
								) {
									categories.add(tag);
								}
							}
						});
					}
				});

				// Add default categories if there are vendors
				if (vendors.length > 0) {
					categories.add("All");
				}

				// Clear and populate categories
				categorySelector.innerHTML = "";
				Array.from(categories).forEach((category) => {
					let categoryInfo = {icon: "🎪", name: category};

					// Map specific tags to better icons and names
					switch (category) {
						case "All":
							categoryInfo = {icon: "🎪", name: "All Vendors"};
							break;
						// Food dietary categories
						case "Halal":
							categoryInfo = {icon: "🕌", name: "Halal"};
							break;
						case "Vegan":
							categoryInfo = {icon: "🌱", name: "Vegan"};
							break;
						case "Vegetarian":
							categoryInfo = {icon: "🥗", name: "Vegetarian"};
							break;
						case "GF_Free":
							categoryInfo = {icon: "🌾", name: "Gluten Free"};
							break;
						case "Coeliac_friendly":
							categoryInfo = {
								icon: "🌾",
								name: "Coeliac Friendly",
							};
							break;
						case "Cheap":
							categoryInfo = {
								icon: "💰",
								name: "Budget Friendly",
							};
							break;
						// Drink categories
						case "Bar":
							categoryInfo = {icon: "🍺", name: "Bars"};
							break;
						case "Beer":
							categoryInfo = {icon: "🍻", name: "Beer"};
							break;
						case "Coffee":
							categoryInfo = {icon: "☕", name: "Coffee"};
							break;
						case "Cocktails":
							categoryInfo = {icon: "🍸", name: "Cocktails"};
							break;
						case "Spirits":
							categoryInfo = {icon: "🥃", name: "Spirits"};
							break;
						case "Juice & Smoothies":
							categoryInfo = {
								icon: "🧃",
								name: "Juice & Smoothies",
							};
							break;
						case "Soft Drinks":
							categoryInfo = {icon: "🥤", name: "Soft Drinks"};
							break;
						case "Other Drinks":
							categoryInfo = {icon: "🍹", name: "Other Drinks"};
							break;
					}

					const bubble = document.createElement("div");
					bubble.className = "category-bubble";
					bubble.onclick = () => selectCategory(category);
					bubble.innerHTML = `
						<div class="icon">${categoryInfo.icon}</div>
						<div>${categoryInfo.name}</div>
					`;
					categorySelector.appendChild(bubble);
				});

				// Show with animation
				categorySelector.style.display = "flex";
			}

			// Category selection
			function selectCategory(category) {
				currentCategory = category;
				currentLevel = "vendor";
				navigationStack.push("category");

				// Morph category selector out
				const categorySelector =
					document.getElementById("categorySelector");
				categorySelector.style.animation =
					"slideOut 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards";

				setTimeout(() => {
					categorySelector.style.display = "none";
					showVendors();
				}, 600);
			}

			// Show vendors for selected zone, type, and category
			function showVendors() {
				const vendorGrid = document.getElementById("vendorGrid");
				const allVendors =
					vendorsData.zones[currentZone]?.vendors || [];

				// Filter by type first
				let typeFilteredVendors;
				if (currentType === "All") {
					typeFilteredVendors = allVendors;
				} else {
					typeFilteredVendors = allVendors.filter(
						(vendor) =>
							vendor.tags && vendor.tags.includes(currentType)
					);
				}

				// Then filter by category
				let filteredVendors;
				if (currentCategory === "All") {
					filteredVendors = typeFilteredVendors;
				} else if (currentType === "Drinks") {
					// For drinks, filter by beverage type based on vendor names
					filteredVendors = typeFilteredVendors.filter((vendor) => {
						const name = vendor.name.toUpperCase();
						switch (currentCategory) {
							case "Bar":
								return (
									name.includes("BAR") &&
									!name.includes("COFFEE")
								);
							case "Beer":
								return name.includes("BEER");
							case "Coffee":
								return name.includes("COFFEE");
							case "Cocktails":
								return name.includes("COCKTAIL");
							case "Spirits":
								return name.includes("SPIRIT");
							case "Juice & Smoothies":
								return (
									name.includes("JUICE") ||
									name.includes("SMOOTHIE")
								);
							case "Soft Drinks":
								return name.includes("SOFT DRINKS");
							case "Other Drinks":
								return (
									!name.includes("BAR") &&
									!name.includes("BEER") &&
									!name.includes("COFFEE") &&
									!name.includes("COCKTAIL") &&
									!name.includes("SPIRIT") &&
									!name.includes("JUICE") &&
									!name.includes("SMOOTHIE") &&
									!name.includes("SOFT DRINKS")
								);
							default:
								return true;
						}
					});
				} else {
					// For food and other types, filter by tag
					filteredVendors = typeFilteredVendors.filter(
						(vendor) =>
							vendor.tags && vendor.tags.includes(currentCategory)
					);
				}

				// Clear and populate vendors
				vendorGrid.innerHTML = "";
				filteredVendors.forEach((vendor, index) => {
					const bubble = document.createElement("div");
					bubble.className = "vendor-bubble";
					bubble.style.setProperty("--delay", index);
					bubble.onclick = () => showVendorPopup(vendor);
					bubble.textContent = vendor.name;
					vendorGrid.appendChild(bubble);
				});

				// Show with animation
				vendorGrid.style.display = "flex";
			}

			// Show vendor popup
			function showVendorPopup(vendor) {
				// Populate popup content
				document.getElementById("popupName").textContent = vendor.name;
				document.getElementById("popupDescription").textContent =
					"Festival vendor"; // Simple description since the new format doesn't include descriptions

				// Set image
				const image = document.getElementById("popupImage");
				if (vendor.image) {
					image.src = `assets/vendors/${vendor.image}`;
					image.style.display = "block";
				} else {
					image.style.display = "none";
				}

				// Populate details
				const detailsContainer =
					document.getElementById("popupDetails");

				const tags = vendor.tags || [];
				const dietaryTags = tags.filter((tag) =>
					[
						"Halal",
						"Vegan",
						"Vegetarian",
						"GF_Free",
						"Coeliac_friendly",
					].includes(tag)
				);
				const isAffordable = tags.includes("Cheap");

				detailsContainer.innerHTML = `
					<div class="detail-item">
						<span class="detail-icon">📍</span>
						<span><strong>Zone:</strong> ${currentZone}</span>
					</div>
					<div class="detail-item">
						<span class="detail-icon">🏷️</span>
						<span><strong>Type:</strong> ${
							currentType === "All" ? "Mixed" : currentType
						}</span>
					</div>
					${
						isAffordable
							? `
					<div class="detail-item">
						<span class="detail-icon">💰</span>
						<span><strong>Budget Friendly</strong></span>
					</div>
					`
							: ""
					}
					${
						dietaryTags.length > 0
							? `
					<div class="detail-item">
						<span class="detail-icon">🌱</span>
						<span><strong>Dietary Options:</strong> ${dietaryTags
							.map((tag) => {
								switch (tag) {
									case "GF_Free":
										return "Gluten Free";
									case "Coeliac_friendly":
										return "Coeliac Friendly";
									default:
										return tag;
								}
							})
							.join(", ")}</span>
					</div>
					`
							: ""
					}
				`;

				// Hide menu section since new format doesn't include menu data
				const menuSection = document.getElementById("menuSection");
				menuSection.style.display = "none";

				// Show popup
				document.getElementById("popupOverlay").classList.add("show");
				document.getElementById("vendorPopup").classList.add("show");
			}

			// Close popup
			function closePopup() {
				document
					.getElementById("popupOverlay")
					.classList.remove("show");
				document.getElementById("vendorPopup").classList.remove("show");
			}

			// Go back navigation
			function goBack() {
				const previousLevel = navigationStack.pop();

				if (previousLevel === "zone") {
					// Back to zone selection
					currentLevel = "zone";
					currentZone = null;
					currentType = null;

					const typeSelector =
						document.getElementById("typeSelector");
					const categorySelector =
						document.getElementById("categorySelector");
					const vendorGrid = document.getElementById("vendorGrid");
					const zoneSelector =
						document.getElementById("zoneSelector");
					const backButton = document.getElementById("backButton");

					typeSelector.style.display = "none";
					categorySelector.style.display = "none";
					vendorGrid.style.display = "none";
					backButton.classList.remove("show");

					zoneSelector.style.display = "flex";
					zoneSelector.style.animation =
						"morphIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards";
				} else if (previousLevel === "type") {
					// Back to type selection
					currentLevel = "type";
					currentType = null;
					currentCategory = null;

					const categorySelector =
						document.getElementById("categorySelector");
					const vendorGrid = document.getElementById("vendorGrid");
					const typeSelector =
						document.getElementById("typeSelector");

					categorySelector.style.display = "none";
					vendorGrid.style.display = "none";
					typeSelector.style.display = "flex";
					typeSelector.style.animation =
						"morphIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards";
				} else if (previousLevel === "category") {
					// Back to category selection
					currentLevel = "category";
					currentCategory = null;

					const vendorGrid = document.getElementById("vendorGrid");
					const categorySelector =
						document.getElementById("categorySelector");

					vendorGrid.style.display = "none";
					categorySelector.style.display = "flex";
					categorySelector.style.animation =
						"morphIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards";
				}
			}

			// Initialize app when page loads
			document.addEventListener("DOMContentLoaded", init);

			// Close popup when clicking overlay
			document
				.getElementById("popupOverlay")
				.addEventListener("click", closePopup);
		</script>

		<!-- Initialize Navigation Component -->
		<script>
			document.addEventListener("DOMContentLoaded", function () {
				// Initialize the navigation component for vendors page
				import("./js/navigation.js").then((module) => {
					const NavigationComponent = module.default;
					const navigationComponent = new NavigationComponent();
					navigationComponent.init("#navigation-placeholder");
				});
			});
		</script>
	</body>
</html>
